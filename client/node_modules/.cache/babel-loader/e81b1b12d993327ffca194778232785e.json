{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\trello-clone-mern\\\\client\\\\src\\\\Components\\\\Modals\\\\EditCardModal\\\\Activity\\\\Activity.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Container, LeftContainer, RightContainer, Title, CommentWrapper, SaveButton, CommentArea, TitleWrapper } from './styled';\nimport MessageIcon from '@mui/icons-material/MessageOutlined';\nimport Comment from '../Comment/Comment';\nimport ActivityLog from '../ActivityLog/ActivityLog';\nimport Button from '../ReUsableComponents/Button';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { comment } from '../../../../Services/cardService';\nimport { Avatar } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Activity = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const ref = useRef();\n  const card = useSelector(state => state.card);\n  const user = useSelector(state => state.user);\n  const [focusComment, setFocusComment] = useState(false);\n  const [newComment, setNewComment] = useState('');\n  const [details, setDetails] = useState(false);\n\n  const handleSaveClick = async () => {\n    await comment(card.cardId, card.listId, card.boardId, newComment, user.name, dispatch);\n    setNewComment('');\n  };\n\n  const handleClickOutside = event => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      setFocusComment(false);\n    } else {\n      setFocusComment(true);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside, true);\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(LeftContainer, {\n        children: [/*#__PURE__*/_jsxDEV(MessageIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            width: 28,\n            height: 28,\n            bgcolor: user.userInfo.color,\n            fontSize: '0.875rem',\n            fontWeight: '800'\n          },\n          children: user.userInfo.name[0].toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(RightContainer, {\n        children: [/*#__PURE__*/_jsxDEV(TitleWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: \"Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            clickCallback: () => setDetails(prev => !prev),\n            title: details ? 'Hide details' : 'Show details'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(CommentWrapper, {\n          ref: ref,\n          children: [/*#__PURE__*/_jsxDEV(SaveButton, {\n            disabled: !newComment,\n            onClick: handleSaveClick,\n            show: focusComment,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(CommentArea, {\n            value: newComment,\n            onChange: e => setNewComment(e.target.value),\n            focus: focusComment,\n            placeholder: \"Write a comment...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), card.activities.map(activity => {\n      if (activity.isComment) {\n        return /*#__PURE__*/_jsxDEV(Comment, { ...activity\n        }, activity._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this);\n      }\n\n      return undefined;\n    }), details && /*#__PURE__*/_jsxDEV(ActivityLog, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Activity, \"bIPNwNsvuheozij2YTvQgdqURDk=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Activity;\nexport default Activity;\n\nvar _c;\n\n$RefreshReg$(_c, \"Activity\");","map":{"version":3,"sources":["C:/Users/Dell/trello-clone-mern/client/src/Components/Modals/EditCardModal/Activity/Activity.js"],"names":["React","useEffect","useRef","useState","Container","LeftContainer","RightContainer","Title","CommentWrapper","SaveButton","CommentArea","TitleWrapper","MessageIcon","Comment","ActivityLog","Button","useDispatch","useSelector","comment","Avatar","Activity","dispatch","ref","card","state","user","focusComment","setFocusComment","newComment","setNewComment","details","setDetails","handleSaveClick","cardId","listId","boardId","name","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","width","height","bgcolor","userInfo","color","fontSize","fontWeight","toUpperCase","prev","e","value","activities","map","activity","isComment","_id","undefined"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SACCC,SADD,EAECC,aAFD,EAGCC,cAHD,EAICC,KAJD,EAKCC,cALD,EAMCC,UAND,EAOCC,WAPD,EAQCC,YARD,QASO,UATP;AAUA,OAAOC,WAAP,MAAwB,qCAAxB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,kCAAxB;AACA,SAASC,MAAT,QAAuB,eAAvB;;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AACtB,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAMM,GAAG,GAAGpB,MAAM,EAAlB;AACA,QAAMqB,IAAI,GAAGN,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAAxB;AACA,QAAME,IAAI,GAAGR,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAAxB;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCxB,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAACyB,UAAD,EAAaC,aAAb,IAA8B1B,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC2B,OAAD,EAAUC,UAAV,IAAwB5B,QAAQ,CAAC,KAAD,CAAtC;;AAEA,QAAM6B,eAAe,GAAG,YAAY;AACnC,UAAMd,OAAO,CAACK,IAAI,CAACU,MAAN,EAAcV,IAAI,CAACW,MAAnB,EAA2BX,IAAI,CAACY,OAAhC,EAAyCP,UAAzC,EAAqDH,IAAI,CAACW,IAA1D,EAAgEf,QAAhE,CAAb;AACAQ,IAAAA,aAAa,CAAC,EAAD,CAAb;AACA,GAHD;;AAKA,QAAMQ,kBAAkB,GAAIC,KAAD,IAAW;AACrC,QAAIhB,GAAG,CAACiB,OAAJ,IAAe,CAACjB,GAAG,CAACiB,OAAJ,CAAYC,QAAZ,CAAqBF,KAAK,CAACG,MAA3B,CAApB,EAAwD;AACvDd,MAAAA,eAAe,CAAC,KAAD,CAAf;AACA,KAFD,MAEO;AACNA,MAAAA,eAAe,CAAC,IAAD,CAAf;AACA;AACD,GAND;;AAQA1B,EAAAA,SAAS,CAAC,MAAM;AACfyC,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCN,kBAAnC,EAAuD,IAAvD;AACA,WAAO,MAAM;AACZK,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,EAAsCP,kBAAtC,EAA0D,IAA1D;AACA,KAFD;AAGA,GALQ,CAAT;AAMA,sBACC;AAAA,4BACC,QAAC,SAAD;AAAA,8BACC,QAAC,aAAD;AAAA,gCACC,QAAC,WAAD;AAAa,UAAA,QAAQ,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC,QAAC,MAAD;AACC,UAAA,EAAE,EAAE;AACHQ,YAAAA,KAAK,EAAE,EADJ;AAEHC,YAAAA,MAAM,EAAE,EAFL;AAGHC,YAAAA,OAAO,EAAEtB,IAAI,CAACuB,QAAL,CAAcC,KAHpB;AAIHC,YAAAA,QAAQ,EAAE,UAJP;AAKHC,YAAAA,UAAU,EAAE;AALT,WADL;AAAA,oBASE1B,IAAI,CAACuB,QAAL,CAAcZ,IAAd,CAAmB,CAAnB,EAAsBgB,WAAtB;AATF;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,eAeC,QAAC,cAAD;AAAA,gCACC,QAAC,YAAD;AAAA,kCACC,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC,QAAC,MAAD;AACC,YAAA,aAAa,EAAE,MAAMrB,UAAU,CAAEsB,IAAD,IAAU,CAACA,IAAZ,CADhC;AAEC,YAAA,KAAK,EAAEvB,OAAO,GAAG,cAAH,GAAoB;AAFnC;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAQC,QAAC,cAAD;AAAgB,UAAA,GAAG,EAAER,GAArB;AAAA,kCACC,QAAC,UAAD;AAAY,YAAA,QAAQ,EAAE,CAACM,UAAvB;AAAmC,YAAA,OAAO,EAAEI,eAA5C;AAA6D,YAAA,IAAI,EAAEN,YAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAIC,QAAC,WAAD;AACC,YAAA,KAAK,EAAEE,UADR;AAEC,YAAA,QAAQ,EAAG0B,CAAD,IAAOzB,aAAa,CAACyB,CAAC,CAACb,MAAF,CAASc,KAAV,CAF/B;AAGC,YAAA,KAAK,EAAE7B,YAHR;AAIC,YAAA,WAAW,EAAC;AAJb;AAAA;AAAA;AAAA;AAAA,kBAJD;AAAA;AAAA;AAAA;AAAA;AAAA,gBARD;AAAA;AAAA;AAAA;AAAA;AAAA,cAfD;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,EAqCEH,IAAI,CAACiC,UAAL,CAAgBC,GAAhB,CAAqBC,QAAD,IAAc;AAClC,UAAIA,QAAQ,CAACC,SAAb,EAAwB;AACvB,4BAAO,QAAC,OAAD,OAAgCD;AAAhC,WAAcA,QAAQ,CAACE,GAAvB;AAAA;AAAA;AAAA;AAAA,gBAAP;AACA;;AACD,aAAOC,SAAP;AACA,KALA,CArCF,EA4CE/B,OAAO,iBAAI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YA5Cb;AAAA,kBADD;AAgDA,CA5ED;;GAAMV,Q;UACYJ,W,EAEJC,W,EACAA,W;;;KAJRG,Q;AA8EN,eAAeA,QAAf","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n\tContainer,\r\n\tLeftContainer,\r\n\tRightContainer,\r\n\tTitle,\r\n\tCommentWrapper,\r\n\tSaveButton,\r\n\tCommentArea,\r\n\tTitleWrapper,\r\n} from './styled';\r\nimport MessageIcon from '@mui/icons-material/MessageOutlined';\r\nimport Comment from '../Comment/Comment';\r\nimport ActivityLog from '../ActivityLog/ActivityLog';\r\nimport Button from '../ReUsableComponents/Button';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { comment } from '../../../../Services/cardService';\r\nimport { Avatar } from '@mui/material';\r\n\r\nconst Activity = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst ref = useRef();\r\n\tconst card = useSelector((state) => state.card);\r\n\tconst user = useSelector((state) => state.user);\r\n\tconst [focusComment, setFocusComment] = useState(false);\r\n\tconst [newComment, setNewComment] = useState('');\r\n\tconst [details, setDetails] = useState(false);\r\n\r\n\tconst handleSaveClick = async () => {\r\n\t\tawait comment(card.cardId, card.listId, card.boardId, newComment, user.name, dispatch);\r\n\t\tsetNewComment('');\r\n\t};\r\n\r\n\tconst handleClickOutside = (event) => {\r\n\t\tif (ref.current && !ref.current.contains(event.target)) {\r\n\t\t\tsetFocusComment(false);\r\n\t\t} else {\r\n\t\t\tsetFocusComment(true);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClickOutside, true);\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClickOutside, true);\r\n\t\t};\r\n\t});\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Container>\r\n\t\t\t\t<LeftContainer>\r\n\t\t\t\t\t<MessageIcon fontSize='small' />\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\twidth: 28,\r\n\t\t\t\t\t\t\theight: 28,\r\n\t\t\t\t\t\t\tbgcolor: user.userInfo.color,\r\n\t\t\t\t\t\t\tfontSize: '0.875rem',\r\n\t\t\t\t\t\t\tfontWeight: '800',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{user.userInfo.name[0].toUpperCase()}\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t</LeftContainer>\r\n\t\t\t\t<RightContainer>\r\n\t\t\t\t\t<TitleWrapper>\r\n\t\t\t\t\t\t<Title>Activity</Title>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclickCallback={() => setDetails((prev) => !prev)}\r\n\t\t\t\t\t\t\ttitle={details ? 'Hide details' : 'Show details'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TitleWrapper>\r\n\t\t\t\t\t<CommentWrapper ref={ref}>\r\n\t\t\t\t\t\t<SaveButton disabled={!newComment} onClick={handleSaveClick} show={focusComment}>\r\n\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t</SaveButton>\r\n\t\t\t\t\t\t<CommentArea\r\n\t\t\t\t\t\t\tvalue={newComment}\r\n\t\t\t\t\t\t\tonChange={(e) => setNewComment(e.target.value)}\r\n\t\t\t\t\t\t\tfocus={focusComment}\r\n\t\t\t\t\t\t\tplaceholder='Write a comment...'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</CommentWrapper>\r\n\t\t\t\t</RightContainer>\r\n\t\t\t</Container>\r\n\t\t\t{card.activities.map((activity) => {\r\n\t\t\t\tif (activity.isComment) {\r\n\t\t\t\t\treturn <Comment key={activity._id} {...activity} />;\r\n\t\t\t\t}\r\n\t\t\t\treturn undefined;\r\n\t\t\t})}\r\n\r\n\t\t\t{details && <ActivityLog />}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Activity;\r\n"]},"metadata":{},"sourceType":"module"}