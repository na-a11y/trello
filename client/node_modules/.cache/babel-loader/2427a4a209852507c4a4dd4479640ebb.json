{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\trello-clone-mern\\\\client\\\\src\\\\Components\\\\Pages\\\\BoardPage\\\\BoardComponents\\\\List\\\\List.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\nimport AddIcon from '@mui/icons-material/Add';\nimport { AddTitleCardContainer, CardContainer, CardWrapper, Container, FooterButton, Header, Span, TitleInput, TitlePlaceholder, TitleNewCardInput } from './styled';\nimport { ClickableIcon } from '../../CommonStyled';\nimport BottomButtonGroup from '../BottomButtonGroup/BottomButtonGroup';\nimport Card from '../Card/Card';\nimport { useDispatch } from 'react-redux';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport DeleteIcon from '@mui/icons-material/DeleteForeverOutlined';\nimport { DeleteList, listTitleUpdate } from '../../../../../Services/boardService';\nimport { createCard } from '../../../../../Services/listService';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst List = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [clickTitle, setClickTitle] = useState(false);\n  const [clickFooter, setClickFooter] = useState(false);\n  const [newCardTitle, setNewCardTitle] = useState('');\n  const [currentListTitle, setCurrentListTitle] = useState(props.info.title);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n  const ref = useRef();\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleFooterClick = async () => {\n    setNewCardTitle('');\n    await createCard(newCardTitle, props.info._id, props.info.owner, dispatch);\n    ref && ref.current && ref.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n\n  const handleFooterCloseClick = () => {\n    setClickFooter(false);\n    setNewCardTitle('');\n  };\n\n  const handleOnChangeTitle = e => {\n    setCurrentListTitle(e.target.value);\n  };\n\n  const handleChangeTitle = async () => {\n    if (props.info.title !== currentListTitle) await listTitleUpdate(props.info._id, props.info.owner, currentListTitle, dispatch);\n  };\n\n  const handleDeleteClick = () => {\n    DeleteList(props.info._id, props.info.owner, dispatch);\n  };\n\n  const handleClickOutside = e => {\n    if (ref.current) if (!ref.current.contains(e.target)) {\n      setClickFooter(false);\n      setNewCardTitle('');\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  });\n  useEffect(() => {\n    if (clickFooter) {\n      ref.current.scrollIntoView();\n    }\n  }, [clickFooter]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Draggable, {\n      draggableId: props.info._id,\n      index: props.index,\n      children: (provided, snapshot) => {\n        return /*#__PURE__*/_jsxDEV(Container, { ...provided.draggableProps,\n          ref: provided.innerRef,\n          isDragging: snapshot.isDragging,\n          children: [/*#__PURE__*/_jsxDEV(Header, { ...provided.dragHandleProps,\n            isDragging: snapshot.isDragging,\n            children: [/*#__PURE__*/_jsxDEV(TitlePlaceholder, {\n              show: clickTitle,\n              onClick: () => setClickTitle(true),\n              children: currentListTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TitleInput, {\n              onBlur: () => {\n                setClickTitle(false);\n                handleChangeTitle();\n              },\n              ref: input => input && input.focus(),\n              show: clickTitle,\n              value: currentListTitle,\n              onChange: handleOnChangeTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(ClickableIcon, {\n              color: \"#656565\",\n              \"aria-controls\": \"basic-menu\",\n              \"aria-haspopup\": \"true\",\n              \"aria-expanded\": open ? 'true' : undefined,\n              onClick: handleClick,\n              children: /*#__PURE__*/_jsxDEV(MoreHorizIcon, {\n                fontSize: \"0.1rem\",\n                onClick: () => {}\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Menu, {\n              id: \"basic-menu\",\n              anchorEl: anchorEl,\n              open: open,\n              onClose: handleClose,\n              MenuListProps: {\n                'aria-labelledby': 'basic-button'\n              },\n              children: /*#__PURE__*/_jsxDEV(MenuItem, {\n                onClick: handleDeleteClick,\n                children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                  children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 11\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 11\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Droppable, {\n            droppableId: props.info._id,\n            direction: \"vertical\",\n            children: (provided, snapshot) => {\n              return /*#__PURE__*/_jsxDEV(CardContainer, { ...provided.droppableProps,\n                ref: provided.innerRef,\n                isDraggingOver: snapshot.isDraggingOver,\n                children: /*#__PURE__*/_jsxDEV(CardWrapper, {\n                  dock: clickFooter,\n                  children: [props.info.cards.filter(card => props.searchString ? card.title.toLowerCase().includes(props.searchString.toLowerCase()) : true).map((card, index) => {\n                    return /*#__PURE__*/_jsxDEV(Card, {\n                      boardId: props.boardId,\n                      listId: props.info._id,\n                      index: index,\n                      info: card\n                    }, card._id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 15\n                    }, this);\n                  }), provided.placeholder, clickFooter && /*#__PURE__*/_jsxDEV(AddTitleCardContainer, {\n                    ref: ref,\n                    children: [/*#__PURE__*/_jsxDEV(TitleNewCardInput, {\n                      value: newCardTitle,\n                      autoFocus: true,\n                      placeholder: \"Enter a title for this card...\",\n                      height: Math.floor(newCardTitle.length / 16) + 'rem',\n                      onChange: e => setNewCardTitle(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(BottomButtonGroup, {\n                      title: \"Add card\",\n                      clickCallback: handleFooterClick,\n                      closeCallback: handleFooterCloseClick\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 167,\n                      columnNumber: 15\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 14\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 11\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 8\n          }, this), !clickFooter && /*#__PURE__*/_jsxDEV(FooterButton, {\n            onClick: () => setClickFooter(true),\n            children: [/*#__PURE__*/_jsxDEV(AddIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Span, {\n              children: \"Add a card\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 7\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(List, \"9Y2qI/9DQEQLkPsAl9zjBEVEMts=\", false, function () {\n  return [useDispatch];\n});\n\n_c = List;\nexport default List;\n\nvar _c;\n\n$RefreshReg$(_c, \"List\");","map":{"version":3,"sources":["C:/Users/Dell/trello-clone-mern/client/src/Components/Pages/BoardPage/BoardComponents/List/List.js"],"names":["React","useEffect","useRef","useState","MoreHorizIcon","AddIcon","AddTitleCardContainer","CardContainer","CardWrapper","Container","FooterButton","Header","Span","TitleInput","TitlePlaceholder","TitleNewCardInput","ClickableIcon","BottomButtonGroup","Card","useDispatch","Menu","MenuItem","ListItemText","ListItemIcon","DeleteIcon","DeleteList","listTitleUpdate","createCard","Droppable","Draggable","List","props","dispatch","clickTitle","setClickTitle","clickFooter","setClickFooter","newCardTitle","setNewCardTitle","currentListTitle","setCurrentListTitle","info","title","anchorEl","setAnchorEl","open","Boolean","ref","handleClick","event","currentTarget","handleClose","handleFooterClick","_id","owner","current","scrollIntoView","behavior","handleFooterCloseClick","handleOnChangeTitle","e","target","value","handleChangeTitle","handleDeleteClick","handleClickOutside","contains","document","addEventListener","removeEventListener","index","provided","snapshot","draggableProps","innerRef","isDragging","dragHandleProps","input","focus","undefined","droppableProps","isDraggingOver","cards","filter","card","searchString","toLowerCase","includes","map","boardId","placeholder","Math","floor","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport {\r\n\tAddTitleCardContainer,\r\n\tCardContainer,\r\n\tCardWrapper,\r\n\tContainer,\r\n\tFooterButton,\r\n\tHeader,\r\n\tSpan,\r\n\tTitleInput,\r\n\tTitlePlaceholder,\r\n\tTitleNewCardInput,\r\n} from './styled';\r\nimport { ClickableIcon } from '../../CommonStyled';\r\nimport BottomButtonGroup from '../BottomButtonGroup/BottomButtonGroup';\r\nimport Card from '../Card/Card';\r\nimport { useDispatch } from 'react-redux';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport DeleteIcon from '@mui/icons-material/DeleteForeverOutlined';\r\nimport { DeleteList, listTitleUpdate } from '../../../../../Services/boardService';\r\nimport { createCard } from '../../../../../Services/listService';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\nconst List = (props) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst [clickTitle, setClickTitle] = useState(false);\r\n\tconst [clickFooter, setClickFooter] = useState(false);\r\n\tconst [newCardTitle, setNewCardTitle] = useState('');\r\n\tconst [currentListTitle, setCurrentListTitle] = useState(props.info.title);\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\r\n\tconst open = Boolean(anchorEl);\r\n\tconst ref = useRef();\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget);\r\n\t};\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null);\r\n\t};\r\n\r\n\tconst handleFooterClick = async () => {\r\n\t\tsetNewCardTitle('');\r\n\t\tawait createCard(newCardTitle, props.info._id, props.info.owner, dispatch);\r\n\t\tref && ref.current && ref.current.scrollIntoView({ behavior: 'smooth' });\r\n\t};\r\n\tconst handleFooterCloseClick = () => {\r\n\t\tsetClickFooter(false);\r\n\t\tsetNewCardTitle('');\r\n\t};\r\n\r\n\tconst handleOnChangeTitle = (e) => {\r\n\t\tsetCurrentListTitle(e.target.value);\r\n\t};\r\n\tconst handleChangeTitle = async () => {\r\n\t\tif (props.info.title !== currentListTitle)\r\n\t\t\tawait listTitleUpdate(props.info._id, props.info.owner, currentListTitle, dispatch);\r\n\t};\r\n\r\n\tconst handleDeleteClick = () => {\r\n\t\tDeleteList(props.info._id, props.info.owner, dispatch);\r\n\t};\r\n\r\n\tconst handleClickOutside = (e) => {\r\n\t\tif (ref.current)\r\n\t\t\tif (!ref.current.contains(e.target)) {\r\n\t\t\t\tsetClickFooter(false);\r\n\t\t\t\tsetNewCardTitle('');\r\n\t\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('mousedown', handleClickOutside);\r\n\t\treturn () => document.removeEventListener('mousedown', handleClickOutside);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (clickFooter) {\r\n\t\t\tref.current.scrollIntoView();\r\n\t\t}\r\n\t}, [clickFooter]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Draggable draggableId={props.info._id} index={props.index}>\r\n\t\t\t\t{(provided, snapshot) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Container\r\n\t\t\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\tisDragging={snapshot.isDragging}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Header {...provided.dragHandleProps} isDragging={snapshot.isDragging}>\r\n\t\t\t\t\t\t\t\t<TitlePlaceholder show={clickTitle} onClick={() => setClickTitle(true)}>\r\n\t\t\t\t\t\t\t\t\t{currentListTitle}\r\n\t\t\t\t\t\t\t\t</TitlePlaceholder>\r\n\t\t\t\t\t\t\t\t<TitleInput\r\n\t\t\t\t\t\t\t\t\tonBlur={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetClickTitle(false);\r\n\t\t\t\t\t\t\t\t\t\thandleChangeTitle();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tref={(input) => input && input.focus()}\r\n\t\t\t\t\t\t\t\t\tshow={clickTitle}\r\n\t\t\t\t\t\t\t\t\tvalue={currentListTitle}\r\n\t\t\t\t\t\t\t\t\tonChange={handleOnChangeTitle}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<ClickableIcon\r\n\t\t\t\t\t\t\t\t\tcolor='#656565'\r\n\t\t\t\t\t\t\t\t\taria-controls='basic-menu'\r\n\t\t\t\t\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t\t\t\t\t\taria-expanded={open ? 'true' : undefined}\r\n\t\t\t\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MoreHorizIcon fontSize='0.1rem' onClick={() => {}} />\r\n\t\t\t\t\t\t\t\t</ClickableIcon>\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tid='basic-menu'\r\n\t\t\t\t\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\t\t\t\tonClose={handleClose}\r\n\t\t\t\t\t\t\t\t\tMenuListProps={{\r\n\t\t\t\t\t\t\t\t\t\t'aria-labelledby': 'basic-button',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleDeleteClick}>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon fontSize='small' />\r\n\t\t\t\t\t\t\t\t\t\t</ListItemIcon>\r\n\t\t\t\t\t\t\t\t\t\t<ListItemText>Delete</ListItemText>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t<Droppable droppableId={props.info._id} direction='vertical'>\r\n\t\t\t\t\t\t\t\t{(provided, snapshot) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<CardContainer\r\n\t\t\t\t\t\t\t\t\t\t\t{...provided.droppableProps}\r\n\t\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\t\t\t\t\tisDraggingOver={snapshot.isDraggingOver}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<CardWrapper dock={clickFooter}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{props.info.cards.filter(card=>props.searchString?card.title.toLowerCase().includes(props.searchString.toLowerCase()):true).map((card, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboardId={props.boardId}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlistId={props.info._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={card._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinfo={card}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{provided.placeholder}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{clickFooter && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AddTitleCardContainer ref={ref}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TitleNewCardInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={newCardTitle}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoFocus={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter a title for this card...'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={Math.floor(newCardTitle.length / 16) + 'rem'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setNewCardTitle(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<BottomButtonGroup\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Add card'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickCallback={handleFooterClick}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcloseCallback={handleFooterCloseClick}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</AddTitleCardContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</CardWrapper>\r\n\t\t\t\t\t\t\t\t\t\t</CardContainer>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t</Droppable>\r\n\t\t\t\t\t\t\t{!clickFooter && (\r\n\t\t\t\t\t\t\t\t<FooterButton onClick={() => setClickFooter(true)}>\r\n\t\t\t\t\t\t\t\t\t<AddIcon fontSize='small' />\r\n\t\t\t\t\t\t\t\t\t<Span>Add a card</Span>\r\n\t\t\t\t\t\t\t\t</FooterButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t</Draggable>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n"]},"metadata":{},"sourceType":"module"}