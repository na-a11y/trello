{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\trello-clone-mern\\\\client\\\\src\\\\Components\\\\Pages\\\\BoardPage\\\\BoardComponents\\\\Card\\\\Card.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport EditCard from '../../../../Modals/EditCardModal/EditCard';\nimport FollowIcon from '@mui/icons-material/RemoveRedEyeOutlined';\nimport WatchIcon from '@mui/icons-material/AccessTimeOutlined';\nimport DescriptiondIcon from '@mui/icons-material/DescriptionOutlined';\nimport CommentIcon from '@mui/icons-material/ChatBubbleOutlineOutlined';\nimport CheckIcon from '@mui/icons-material/LibraryAddCheckOutlined';\nimport AttachmentIcon from '@mui/icons-material/InsertLinkRounded';\nimport { AttachmentContainer, CardTitle, CommentContainer, Container, Cover, DateContainer, FooterContainer, IconGroupContainer, IconGroupWrapper, IconWrapper, Label, LabelContainer, Span, CheckContainer, MembersContainer, MembersWrapper } from './styled';\nimport { Draggable } from 'react-beautiful-dnd';\nimport moment from 'moment';\nimport { Avatar } from '@mui/material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Card = props => {\n  _s();\n\n  const [openModal, setOpenModal] = useState(false);\n  const card = props.info;\n  const comment = card.activities.filter(act => act.isComment).length;\n  let checks = {\n    c: 0,\n    n: 0\n  };\n  card.checklists.map(checklist => {\n    return checklist.items.map(item => {\n      if (item.completed) checks.c += 1;else checks.n += 1;\n      return item;\n    });\n  });\n  let labels = card.labels.filter(i => i.selected);\n\n  const handleOpenClose = () => {\n    setOpenModal(current => !current);\n  };\n\n  const formatDate = date => {\n    if (moment(date).toDate().getFullYear() < new Date().getFullYear()) return moment(date).format('MMM DD, yyyy');else return moment(date).format('MMM DD');\n  };\n\n  function getStyle(style, snapshot) {\n    if (!snapshot.isDropAnimating) {\n      return style;\n    }\n\n    return { ...style,\n      transitionDuration: `80ms`\n    };\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Draggable, {\n      draggableId: props.info._id,\n      index: props.index,\n      children: (provided, snapshot) => {\n        return /*#__PURE__*/_jsxDEV(Container, {\n          onClick: handleOpenClose,\n          ...provided.dragHandleProps,\n          ...provided.draggableProps,\n          style: getStyle(provided.draggableProps.style, snapshot),\n          ref: provided.innerRef,\n          isDragging: snapshot.isDragging,\n          color: !card.cover.isSizeOne ? card.cover.color : '#fff',\n          padding: card.cover.color && card.cover.isSizeOne,\n          children: [card.cover.isSizeOne && /*#__PURE__*/_jsxDEV(Cover, {\n            color: card.cover.color\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this), labels && /*#__PURE__*/_jsxDEV(LabelContainer, {\n            children: labels.map(label => {\n              return /*#__PURE__*/_jsxDEV(Label, {\n                color: label.color\n              }, label._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 18\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(CardTitle, {\n            children: card.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(FooterContainer, {\n            children: [/*#__PURE__*/_jsxDEV(IconGroupContainer, {\n              children: /*#__PURE__*/_jsxDEV(IconGroupWrapper, {\n                children: [card.watchers.length > 0 && /*#__PURE__*/_jsxDEV(IconWrapper, {\n                  children: /*#__PURE__*/_jsxDEV(FollowIcon, {\n                    fontSize: \"0.5rem\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 13\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 12\n                }, this), card.attachments.length > 0 && /*#__PURE__*/_jsxDEV(AttachmentContainer, {\n                  children: [/*#__PURE__*/_jsxDEV(AttachmentIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(Span, {\n                    children: card.attachments.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 12\n                }, this), (card.date.dueDate || card.date.startDate) &&\n                /*#__PURE__*/\n                //#ec9488, #eb5a46 #61bd4f\n                _jsxDEV(DateContainer, {\n                  backColor: card.date.completed ? '#61bd4f' : moment(card.date.dueDate).toDate().getTime() < new Date().getTime() ? '#ec9488' : 'transparent',\n                  hoverBg: card.date.completed ? '#81dd6f' : moment(card.date.dueDate).toDate().getTime() < new Date().getTime() ? '#eb5a46' : 'lightgray',\n                  color: card.date.completed || moment(card.date.dueDate).toDate().getTime() < new Date().getTime() ? 'white' : 'darkgray',\n                  children: [/*#__PURE__*/_jsxDEV(WatchIcon, {\n                    style: {\n                      color: card.date.completed || moment(card.date.dueDate).toDate().getTime() < new Date().getTime() ? 'white' : 'darkgray'\n                    },\n                    fontSize: \"0.5rem\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(Span, {\n                    color: card.date.completed || moment(card.date.dueDate).toDate().getTime() < new Date().getTime() ? 'white' : 'darkgray',\n                    children: `${card.date.startDate ? formatDate(card.date.startDate) : ''}${card.date.startDate ? card.date.dueDate ? ' - ' : '' : ''}${card.date.dueDate ? formatDate(card.date.dueDate) : ''}${card.date.dueTime ? ' at ' + card.date.dueTime : ''}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 12\n                }, this), card.description && /*#__PURE__*/_jsxDEV(DescriptiondIcon, {\n                  fontSize: \"0.5rem\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 32\n                }, this), comment > 0 && /*#__PURE__*/_jsxDEV(CommentContainer, {\n                  children: [/*#__PURE__*/_jsxDEV(CommentIcon, {\n                    fontSize: \"0.5rem\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(Span, {\n                    children: comment\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 12\n                }, this), card.checklists.length > 0 && /*#__PURE__*/_jsxDEV(CheckContainer, {\n                  children: [/*#__PURE__*/_jsxDEV(CheckIcon, {\n                    fontSize: \"0.5rem\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(Span, {\n                    children: [checks.c, \"/\", checks.c + checks.n]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 13\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 12\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 9\n            }, this), card.members && /*#__PURE__*/_jsxDEV(MembersContainer, {\n              children: /*#__PURE__*/_jsxDEV(MembersWrapper, {\n                children: card.members && card.members.map((member, i) => {\n                  return /*#__PURE__*/_jsxDEV(Avatar, {\n                    sx: {\n                      width: 28,\n                      height: 28,\n                      bgcolor: member.color,\n                      fontSize: '0.875rem',\n                      fontWeight: '800'\n                    },\n                    children: member.name[0].toUpperCase()\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 15\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this), openModal && /*#__PURE__*/_jsxDEV(EditCard, {\n      open: openModal,\n      callback: handleOpenClose,\n      ids: {\n        cardId: props.info._id,\n        listId: props.listId,\n        boardId: props.boardId\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Card, \"uYk1wngonhmNAAo8U/frFfYvuzQ=\");\n\n_c = Card;\nexport default Card;\n\nvar _c;\n\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"sources":["C:/Users/Dell/trello-clone-mern/client/src/Components/Pages/BoardPage/BoardComponents/Card/Card.js"],"names":["React","useState","EditCard","FollowIcon","WatchIcon","DescriptiondIcon","CommentIcon","CheckIcon","AttachmentIcon","AttachmentContainer","CardTitle","CommentContainer","Container","Cover","DateContainer","FooterContainer","IconGroupContainer","IconGroupWrapper","IconWrapper","Label","LabelContainer","Span","CheckContainer","MembersContainer","MembersWrapper","Draggable","moment","Avatar","Card","props","openModal","setOpenModal","card","info","comment","activities","filter","act","isComment","length","checks","c","n","checklists","map","checklist","items","item","completed","labels","i","selected","handleOpenClose","current","formatDate","date","toDate","getFullYear","Date","format","getStyle","style","snapshot","isDropAnimating","transitionDuration","_id","index","provided","dragHandleProps","draggableProps","innerRef","isDragging","cover","isSizeOne","color","label","title","watchers","attachments","dueDate","startDate","getTime","dueTime","description","members","member","width","height","bgcolor","fontSize","fontWeight","name","toUpperCase","cardId","listId","boardId"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport EditCard from '../../../../Modals/EditCardModal/EditCard';\r\nimport FollowIcon from '@mui/icons-material/RemoveRedEyeOutlined';\r\nimport WatchIcon from '@mui/icons-material/AccessTimeOutlined';\r\nimport DescriptiondIcon from '@mui/icons-material/DescriptionOutlined';\r\nimport CommentIcon from '@mui/icons-material/ChatBubbleOutlineOutlined';\r\nimport CheckIcon from '@mui/icons-material/LibraryAddCheckOutlined';\r\nimport AttachmentIcon from '@mui/icons-material/InsertLinkRounded';\r\nimport {\r\n\tAttachmentContainer,\r\n\tCardTitle,\r\n\tCommentContainer,\r\n\tContainer,\r\n\tCover,\r\n\tDateContainer,\r\n\tFooterContainer,\r\n\tIconGroupContainer,\r\n\tIconGroupWrapper,\r\n\tIconWrapper,\r\n\tLabel,\r\n\tLabelContainer,\r\n\tSpan,\r\n\tCheckContainer,\r\n\tMembersContainer,\r\n\tMembersWrapper,\r\n} from './styled';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport moment from 'moment';\r\nimport { Avatar } from '@mui/material';\r\nconst Card = (props) => {\r\n\tconst [openModal, setOpenModal] = useState(false);\r\n\tconst card = props.info;\r\n\tconst comment = card.activities.filter((act) => act.isComment).length;\r\n\tlet checks = { c: 0, n: 0 };\r\n\tcard.checklists.map((checklist) => {\r\n\t\treturn checklist.items.map((item) => {\r\n\t\t\tif (item.completed) checks.c += 1;\r\n\t\t\telse checks.n += 1;\r\n\t\t\treturn item;\r\n\t\t});\r\n\t});\r\n\tlet labels = card.labels.filter((i) => i.selected);\r\n\tconst handleOpenClose = () => {\r\n\t\tsetOpenModal((current) => !current);\r\n\t};\r\n\r\n\tconst formatDate = (date) => {\r\n\t\tif (moment(date).toDate().getFullYear() < new Date().getFullYear()) return moment(date).format('MMM DD, yyyy');\r\n\t\telse return moment(date).format('MMM DD');\r\n\t};\r\n\r\n\tfunction getStyle(style, snapshot) {\r\n\t\tif (!snapshot.isDropAnimating) {\r\n\t\t\treturn style;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t...style,\r\n\t\t\ttransitionDuration: `80ms`,\r\n\t\t};\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Draggable draggableId={props.info._id} index={props.index}>\r\n\t\t\t\t{(provided, snapshot) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Container\r\n\t\t\t\t\t\t\tonClick={handleOpenClose}\r\n\t\t\t\t\t\t\t{...provided.dragHandleProps}\r\n\t\t\t\t\t\t\t{...provided.draggableProps}\r\n\t\t\t\t\t\t\tstyle={getStyle(provided.draggableProps.style, snapshot)}\r\n\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\tisDragging={snapshot.isDragging}\r\n\t\t\t\t\t\t\tcolor={!card.cover.isSizeOne ? card.cover.color : '#fff'}\r\n\t\t\t\t\t\t\tpadding={card.cover.color && card.cover.isSizeOne}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{card.cover.isSizeOne && <Cover color={card.cover.color} />}\r\n\t\t\t\t\t\t\t{labels && (\r\n\t\t\t\t\t\t\t\t<LabelContainer>\r\n\t\t\t\t\t\t\t\t\t{labels.map((label) => {\r\n\t\t\t\t\t\t\t\t\t\treturn <Label key={label._id} color={label.color} />;\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</LabelContainer>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<CardTitle>{card.title}</CardTitle>\r\n\t\t\t\t\t\t\t<FooterContainer>\r\n\t\t\t\t\t\t\t\t<IconGroupContainer>\r\n\t\t\t\t\t\t\t\t\t<IconGroupWrapper>\r\n\t\t\t\t\t\t\t\t\t\t{card.watchers.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<IconWrapper>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FollowIcon fontSize='0.5rem' />\r\n\t\t\t\t\t\t\t\t\t\t\t</IconWrapper>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{card.attachments.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<AttachmentContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AttachmentIcon fontSize='small' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Span>{card.attachments.length}</Span>\r\n\t\t\t\t\t\t\t\t\t\t\t</AttachmentContainer>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t\t{(card.date.dueDate || card.date.startDate) && ( //#ec9488, #eb5a46 #61bd4f\r\n\t\t\t\t\t\t\t\t\t\t\t<DateContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackColor={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcard.date.completed\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#61bd4f'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: moment(card.date.dueDate).toDate().getTime() <\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  new Date().getTime()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#ec9488'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'transparent'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\thoverBg={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcard.date.completed\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#81dd6f'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: moment(card.date.dueDate).toDate().getTime() <\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  new Date().getTime()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '#eb5a46'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'lightgray'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcard.date.completed ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmoment(card.date.dueDate).toDate().getTime() < new Date().getTime()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'white'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'darkgray'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<WatchIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcard.date.completed ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmoment(card.date.dueDate).toDate().getTime() <\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date().getTime()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'white'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'darkgray',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize='0.5rem'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcard.date.completed ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmoment(card.date.dueDate).toDate().getTime() <\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date().getTime()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'white'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'darkgray'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>{`${card.date.startDate ? formatDate(card.date.startDate) : ''}${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcard.date.startDate ? (card.date.dueDate ? ' - ' : '') : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}${card.date.dueDate ? formatDate(card.date.dueDate) : ''}${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcard.date.dueTime ? ' at ' + card.date.dueTime : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}`}</Span>\r\n\t\t\t\t\t\t\t\t\t\t\t</DateContainer>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{card.description && <DescriptiondIcon fontSize='0.5rem' />}\r\n\t\t\t\t\t\t\t\t\t\t{comment > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<CommentContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CommentIcon fontSize='0.5rem' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Span>{comment}</Span>\r\n\t\t\t\t\t\t\t\t\t\t\t</CommentContainer>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{card.checklists.length > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t\t<CheckContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckIcon fontSize='0.5rem' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{checks.c}/{checks.c + checks.n}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Span>\r\n\t\t\t\t\t\t\t\t\t\t\t</CheckContainer>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</IconGroupWrapper>\r\n\t\t\t\t\t\t\t\t</IconGroupContainer>\r\n\t\t\t\t\t\t\t\t{card.members && (\r\n\t\t\t\t\t\t\t\t\t<MembersContainer>\r\n\t\t\t\t\t\t\t\t\t\t<MembersWrapper>\r\n\t\t\t\t\t\t\t\t\t\t\t{card.members &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tcard.members.map((member, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 28,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: 28,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbgcolor: member.color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.875rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: '800',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{member.name[0].toUpperCase()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</MembersWrapper>\r\n\t\t\t\t\t\t\t\t\t</MembersContainer>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</FooterContainer>\r\n\t\t\t\t\t\t</Container>\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t</Draggable>\r\n\t\t\t{openModal && (\r\n\t\t\t\t<EditCard\r\n\t\t\t\t\topen={openModal}\r\n\t\t\t\t\tcallback={handleOpenClose}\r\n\t\t\t\t\tids={{ cardId: props.info._id, listId: props.listId, boardId: props.boardId }}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}